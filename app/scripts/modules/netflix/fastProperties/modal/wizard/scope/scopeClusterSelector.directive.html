<div class="form-group slide-in" ng-if="fp.showIf">
  <div class="sm-label-right col-md-3">
    <b ng-class="{strike: fp.model === 'none'}">Cluster</b>
  </div>

  <div class="col-md-8">
    <select
        name="stacks"
        class="form-control input-sm"
        ng-model="fp.model"
        ng-change="fp.clusterChanged()"
        ng-if="!fp.freeFormClusterField"
        >

      <option value=""></option>
      <option
          ng-if="fp.allowNone"
          value="none"
          ng-selected="!fp.model">
        none
      </option>
      <option
          ng-repeat="cluster in fp.clusters || fp.getClusterList()"
          value="{{cluster}}"
          ng-selected="fp.model === cluster"
          >
        {{cluster}}
      </option>
    </select>

    <input
        type="text"
        ng-blur="fp.clusterChanged()"
        class="form-control input-sm"
        ng-if="fp.freeFormClusterField"
        ng-model="fp.model" />

  </div>

  <div class="col-md-8 col-md-offset-3">
    <a href ng-click="fp.toggleFreeFormClusterField()" ng-if="!fp.freeFormClusterField">Toggle for text input</a>
    <a href ng-click="fp.toggleFreeFormClusterField()" ng-if="fp.freeFormClusterField">Toggle for list of existing clusters </a>
  </div>
</div>
