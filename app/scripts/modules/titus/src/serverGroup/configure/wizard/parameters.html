<form name="form" class="container-fluid form-horizontal" ng-controller="titusServerGroupParametersCtrl as ctrl" novalidate>
  <div class="modal-body">
    <div class="form-group">
      <div class="col-md-4 sm-label-right"><b>IAM Instance Profile</b>
        <help-field key="titus.deploy.iamProfile"></help-field>
      </div>
      <div class="col-md-6"><input type="text"
                                   class="form-control input-sm no-spel"
                                   ng-model="command.iamProfile"/></div>
    </div>
    <div class="form-group">
      <div class="col-md-4 sm-label-right"><b>Soft Constraints</b>
        <help-field key="titus.deploy.hardConstraints"></help-field>
      </div>
      <div class="col-md-5">
        <ui-select multiple class="form-control input-sm"
                   ng-model="command.softConstraints"
                   on-select="ctrl.updateConstraints()"
                   on-remove="ctrl.updateConstraints()">
          <ui-select-match>{{$item}}</ui-select-match>
          <ui-select-choices repeat="constraint in ctrl.softConstraintOptions">
            <span ng-bind="constraint"></span>
        </ui-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-md-4 sm-label-right"><b>Hard Constraints</b>
        <help-field key="titus.deploy.hardConstraints"></help-field>
      </div>
      <div class="col-md-5">
        <ui-select multiple class="form-control input-sm"
                   ng-model="command.hardConstraints"
                   on-select="ctrl.updateConstraints()"
                   on-remove="ctrl.updateConstraints()">
          <ui-select-match>{{$item}}</ui-select-match>
          <ui-select-choices repeat="constraint in ctrl.hardConstraintOptions">
            <span ng-bind="constraint"></span>
        </ui-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-md-4 sm-label-right"><b>Capacity Group</b>
        <help-field key="titus.deploy.capacityGroup"></help-field>
      </div>
      <div class="col-md-6"><input type="text"
                                   class="form-control input-sm no-spel"
                                   ng-model="command.capacityGroup"/></div>
    </div>
    <div class="form-group">
      <div class="col-md-4 sm-label-right"><b>Migration Policy</b>
        <help-field key="titus.deploy.migrationPolicy"></help-field>
      </div>
      <div class="col-md-4">
      <select class="form-control input-sm"
              ng-model="command.migrationPolicy.type"
              ng-options="option.value as option.label for option in migrationPolicyOptions">
      </select>
      </div>
    </div>
    <hr/>
    <div class="form-group">
      <h4 class="col-sm-12">
        <b>Job Attributes</b>
      </h4>
      <div class="col-sm-12">
        <map-editor model="command.labels" allow-empty="true"></map-editor>
      </div>
    </div>
    <div class="form-group">
      <h4 class="col-sm-12">
        <b>Environment Variables</b>
      </h4>
      <div class="col-sm-12">
        <map-editor model="command.env" allow-empty="true"></map-editor>
      </div>
    </div>
  </div>
  <div class="form-group" ng-if="application.attributes.platformHealthOnlyShowOverride">
    <div class="col-md-5 sm-label-right"><b>Task Completion</b></div>
    <div class="col-md-6">
      <platform-health-override command="command"
                                platform-health-type="'Titus'">
      </platform-health-override>
    </div>
  </div>
</form>
