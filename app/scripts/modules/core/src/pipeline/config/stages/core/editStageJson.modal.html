<div modal-page class="flex-fill">
  <modal-close dismiss="$dismiss()"></modal-close>
  <div class="modal-header">
    <h3>Edit Stage JSON</h3>
  </div>
  <div class="modal-body flex-fill">
    <div class="row">
      <div class="col-md-12">
        <p>
          The JSON below represents the stage configuration in its persisted state.
        </p>
      </div>
    </div>
    <form name="form" class="form-horizontal flex-fill">
      <div class="form-group flex-fill">
        <textarea class="code form-control flex-fill" ng-model="$ctrl.stageJSON"></textarea>
      </div>
    </form>
    <div class="row">
      <div class="col-md-12">
        <p>
          <strong>Note:</strong> Clicking "Update Stage" below will not save your changes to the server - it only
          updates the configuration within the browser, so you'll want to verify your changes and click "Save Changes"
          when you're ready.
        </p>
      </div>
    </div>
    <div class="form-group row slide-in" ng-if="$ctrl.isInvalid">
      <div class="col-sm-9 col-sm-offset-3 error-message">
        Error: {{$ctrl.errorMessage}}
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-default" ng-click="$dismiss()">Cancel</button>
    <button class="btn btn-primary"
            ng-click="$ctrl.updateStage()">
      <span class="fa fa-check-circle-o"></span> Update Stage
    </button>
  </div>
</div>
