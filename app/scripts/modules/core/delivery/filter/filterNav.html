<div class="filters-content">
  <div class="heading">
    <h3>
      Filters
      <span class="btn btn-default btn-light"
            analytics-on="click"
            analytics-category="Pipelines"
            analytics-event="Filter: clear all (side nav)"
            ng-click="vm.clearFilters()">Clear All</span>
    </h3>
    <collapsible-section heading="Search" expanded="true" help-key="executions.search">
      <form class="form-horizontal" role="form">
        <div class="form-group nav-search">
          <input type="search" class="form-control input-sm" ng-model="sortFilter.filter"
                 ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 300, 'blur': 0 } }"
                 analytics-on="change"
                 analytics-category="Pipelines"
                 analytics-event="Filter: search"
                 analytics-label="{{sortFilter.filter}}"
                 ng-change="vm.updateExecutionGroups()" style="width: 85%; display: inline-block">
        </div>
      </form>
    </collapsible-section>
  </div>
  <div class="content">

    <collapsible-section heading="Pipelines" expanded="true">
      <div class="form"
           ng-model="vm.application.pipelineConfigs.data"
           ui-sortable="vm.pipelineSortOptions">
        <div ng-repeat="pipeline in vm.pipelineNames" class="checkbox sortable">
          <div>
            <label>
              <span
                ng-if="!vm.viewState.pipelineReorderDisabled"
                class="glyphicon glyphicon-resize-vertical"></span>
              <input type="checkbox"
                     analytics-on="change"
                     analytics-category="Pipelines"
                     analytics-event="Filter: pipeline"
                     analytics-label="{{pipeline}}"
                     ng-disabled="!vm.viewState.pipelineReorderDisabled"
                     ng-show="vm.viewState.pipelineReorderDisabled"
                     ng-model="sortFilter.pipeline[pipeline]"
                     ng-change="vm.updateExecutionGroups()"/>
              {{pipeline}}
            </label>
          </div>
        </div>
        <div ng-if="vm.pipelineNames.length">
          <a class="btn btn-xs btn-default" href
             analytics-on="click"
             analytics-category="Pipelines"
             analytics-event="Filter: reorder"
             ng-if="vm.viewState.pipelineReorderDisabled"
             ng-click="vm.enablePipelineReorder()">Reorder Pipelines</a>
          <a class="btn btn-xs btn-default" href
             analytics-on="click"
             analytics-category="Pipelines"
             analytics-event="Filter: stop reorder"
             ng-if="!vm.viewState.pipelineReorderDisabled"
             ng-click="vm.disablePipelineReorder()">Done</a>
        </div>
      </div>
    </collapsible-section>

    <collapsible-section heading="Status" expanded="true">
      <div class="form">
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="RUNNING"
                   ng-model="sortFilter.status.RUNNING"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Running
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="TERMINAL"
                   ng-model="sortFilter.status.TERMINAL"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Terminal
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="SUCCEEDED"
                   ng-model="sortFilter.status.SUCCEEDED"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Succeeded
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="NOT STARTED"
                   ng-model="sortFilter.status.NOT_STARTED"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Not Started
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="CANCELED"
                   ng-model="sortFilter.status.CANCELED"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Canceled
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input type="checkbox"
                   analytics-on="change"
                   analytics-category="Pipelines"
                   analytics-event="Filter: status"
                   analytics-label="STOPPED"
                   ng-model="sortFilter.status.STOPPED"
                   ng-change="vm.updateExecutionGroups(true)"/>
            Stopped
          </label>
        </div>
      </div>
    </collapsible-section>

  </div>
</div>
