<div class="row rollup-entry sub-group"
     ng-class="{
        active: $state.includes('**.serverGroup', {region: serverGroup.region, accountId: serverGroup.account, serverGroup: serverGroup.name, provider: serverGroup.type}),
        disabled: serverGroup.isDisabled
     }">
  <div class="rollup-summary">
    <a class="rollup-title-cell"
       ui-sref=".serverGroup({region: serverGroup.region, accountId: serverGroup.account, serverGroup: serverGroup.name, provider: serverGroup.type})">
      <span class="glyphicon glyphicon-th"></span>
      {{serverGroup.name}}
      <account-tag account="serverGroup.account" pad="both"></account-tag>
      <span ng-if="serverGroup.isDisabled" class="badge">disabled</span>
    </a>
    <load-balancers-tag load-balancers="serverGroup.loadBalancers" max-display="1"></load-balancers-tag>
  </div>
  <div class="rollup-details">
    <div class="build-title">
      <a ng-if="serverGroup.buildInfo.jenkins.host"
         href="{{ serverGroup.buildInfo.jenkins.host }}job/{{ serverGroup.buildInfo.jenkins.name }}/{{ serverGroup.buildInfo.jenkins.number }}/"
         target="_blank">
          Build #{{ serverGroup.buildInfo.jenkins.number }}:
      </a>
      <span ng-if="!serverGroup.buildInfo.jenkins.host">
          (No build info)
      </span>
      <span ng-if="!serverGroup.isDisabled">
        <health-counts container="serverGroup"></health-counts>
      </span>
    </div>
    <div ng-if="displayOptions.showInstances">
      <instances highlight="displayOptions.filter" instances="serverGroup.instances" provider="serverGroup.type" render-instances-on-scroll="displayOptions.renderInstancesOnScroll"></instances>
    </div>
  </div>
</div>
